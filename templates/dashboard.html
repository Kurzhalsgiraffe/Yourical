{% extends "base.html" %}

{% block additionalstyle %}
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/fullcalendar.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/list.min.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/jquery.qtip.min.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/fullcalendar.print.css') }}" media='print'>
{% endblock %}

{% block title %}
    Dashboard
{% endblock %}

{% block content %}
    <div>
        <form id="dateForm" class="flex-container">
            <div>
                <label for="dateInput">Start:</label>
                <input type="date" id="startDateInput" name="startDateInput">
            </div>
            <div>
                <label for="dateInput">Ende:</label>
                <input type="date" id="endDateInput" name="endDateInput">
            </div>
            <div>
                <button type="submit" id="submitDateButton">Submit</button>
                <button type="reset" id="resetDateButton">Reset</button>
            </div>
        </form>
    </div>
    <div class="center-text">
        <h2>Für die beste Funktionalität im Desktop-Browser benutzen!</h2>
        <h2>Semesterauswahl</h2>
        <h5>Wähle hier alle Semester aus welchen du Kurse angezeigt bekommen möchtest.
        Dies kannst du natürlich später ändern.</h5>
    </div>
    <div>
        <form id="semesterItemForm">
            <table id="semesterItemTable" class="itemTable">
                <!-- Selection elements will be dynamically added here -->
            </table>
            <button type="submit" id="submitsemesterButton">Submit</button>
        </form>
        <div class="alertContainer mt-2">
            <div class="alert alert-success center-text" role="alert" id="semesterItemFormAlert" style="display: none;">
                Semester selection saved
            </div>
        </div>
    </div>
    <div class="center-text mt-1">
        <h2>Kursauswahl</h2>
        <h5>Wähle hier deine Kurse aus verschiedenen Semestern die du belegen möchtest.</h5>
    </div>
    <div>
        <form id="moduleItemForm">
            <table id="moduleItemTable" class="itemTable">
                <!-- Selection elements will be dynamically added here -->
            </table>
            <button type="submit" id="submitmoduleButton">Submit</button>
        </form>
        <div class="alertContainer mt-2">
            <div class="alert alert-success" role="alert" id="moduleItemFormAlert" style="display: none;">
                Modules saved, calendar created
            </div>
        </div>
    </div>
    <div class="center-text mt-1">
        <h1 style="color:red;">Erst lesen, dann Link!!</h1>
        <h5>Dieser Link ist ein URL-Kalenderabonnement und sollte bei Google Calendar, Apple Calendar und alle Anderen als Import-per-URL eingepflegt werden.
        NICHT die "username.calender.ics" herunterladen und "abonnieren", Ausfälle und Kurswahlen werden ansonsten nicht aktualisiert. Ihr müsst den Link selbst im Kalender abspeichern!</h5>
        <h4><a href="https://yourical.de/faq"><u>Anleitung / FAQ</u></a></h4>
        <h5>&darr; Dein Link &darr;</h5>
        <div class="my-3">
            <a href="/ical/{{ current_user.username }}" class="link-box" onclick="copyLink(event)">https://yourical.de/ical/{{ current_user.username }}</a>
        </div>
        <h5>Wir aktualisieren deinen Kalender 2 mal pro Stunde damit du keine Ausfälle verpasst. <br>
        Der Link bleibt gleich.</h5>
    </div>

    <div id='calendar' data-username="{{ current_user.username }}"></div>
    <div class="center-text mt-4">
        <h1>Kleine Spende für die Serverkosten <3</h1>
        <img src="static/images/kleine_spende.gif" alt="Kleine Spende">
        <h1><a href="https://paypal.me/silfeu"><u>paypal.me/silfeu</u></a></h1><h5>(externer Link)</h5>
    </div>
{% endblock %}

{% block additionaljavascript %}
    <script src="{{ url_for('static', filename='js/dashboard.js') }}" type="application/javascript"></script>
    <script src="{{ url_for('static', filename='js/copy.js') }}" type="application/javascript"></script>
    <script src="{{ url_for('static', filename='js/moment.min.js') }}" type="application/javascript"></script>
    <script src="{{ url_for('static', filename='js/fullcalendar.min.js') }}" type="application/javascript"></script>
    <script src="{{ url_for('static', filename='js/locale-all.js') }}" type="application/javascript"></script>
    <script src="{{ url_for('static', filename='js/ical.min.js') }}" type="application/javascript"></script>
    <script src="{{ url_for('static', filename='js/ical_events.js') }}" type="application/javascript"></script>
    <script src="{{ url_for('static', filename='js/ical_fullcalendar.js') }}" type="application/javascript"></script>
    <script src="{{ url_for('static', filename='js/jquery.qtip.min.js') }}" type="application/javascript"></script>
    <script src="{{ url_for('static',filename='js/custom_display.js')}}" type="application/javascript"></script>
{% endblock %}
